(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{361:function(s,t,a){s.exports=a.p+"assets/img/1.1a033437.png"},362:function(s,t,a){s.exports=a.p+"assets/img/2.4f572942.png"},431:function(s,t,a){"use strict";a.r(t);var n=a(42),e=Object(n.a)({},(function(){var s=this,t=s.$createElement,n=s._self._c||t;return n("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[n("h3",{attrs:{id:"node基本概念"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#node基本概念"}},[s._v("#")]),s._v(" Node基本概念")]),s._v(" "),n("h2",{attrs:{id:"一-node是什么"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#一-node是什么"}},[s._v("#")]),s._v(" 一.Node是什么?")]),s._v(" "),n("p",[s._v("Node.js是一个基于 Chrome V8 引擎的JavaScript运行环境(runtime),Node不是一门语言是让js运行在后端的运行时,并且不包括javascript全集,因为在服务端中不包含DOM和BOM,Node也提供了一些新的模块例如http,fs模块等。Node.js 使用了事件驱动、非阻塞式 I/O 的模型，使其轻量又高效并且Node.js 的包管理器 npm，是全球最大的开源库生态系统。事件驱动与非阻塞IO后面我们会一一介绍。到此我们已经对node有了简单的概念。")]),s._v(" "),n("h2",{attrs:{id:"二-node解决了哪些问题"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#二-node解决了哪些问题"}},[s._v("#")]),s._v(" 二.Node解决了哪些问题?")]),s._v(" "),n("p",[s._v("Node在处理高并发,I/O密集场景有明显的性能优势")]),s._v(" "),n("ul",[n("li",[s._v("高并发,是指在同一时间并发访问服务器")]),s._v(" "),n("li",[s._v("I/O密集指的是文件操作、网络操作、数据库,相对的有CPU密集,CPU密集指的是逻辑处理运算、压缩、解压、加密、解密")])]),s._v(" "),n("blockquote",[n("p",[s._v("Web主要场景就是接收客户端的请求读取静态资源和渲染界面,所以Node非常适合Web应用的开发。")])]),s._v(" "),n("h2",{attrs:{id:"三-js单线程"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#三-js单线程"}},[s._v("#")]),s._v(" 三.JS单线程")]),s._v(" "),n("p",[s._v("javascript在最初设计时设计成了单线程,为什么不是多线程呢？如果多个线程同时操作DOM那岂不会很混乱？这里所谓的单线程指的是主线程是单线程的,所以在Node中主线程依旧是单线程的。")]),s._v(" "),n("ul",[n("li",[s._v("单线程特点是节约了内存,并且不需要在切换执行上下文")]),s._v(" "),n("li",[s._v("而且单线程不需要管锁的问题.")])]),s._v(" "),n("h2",{attrs:{id:"四-同步异步和阻塞非阻塞"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#四-同步异步和阻塞非阻塞"}},[s._v("#")]),s._v(" 四.同步异步和阻塞非阻塞")]),s._v(" "),n("p",[n("img",{attrs:{src:a(361),alt:"同步异步和阻塞非阻塞"}})]),s._v(" "),n("h2",{attrs:{id:"五-node中的event-loop"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#五-node中的event-loop"}},[s._v("#")]),s._v(" 五.Node中的Event Loop")]),s._v(" "),n("p",[n("img",{attrs:{src:a(362),alt:"同步异步和阻塞非阻塞"}})]),s._v(" "),n("ul",[n("li",[s._v("1.我们写的js代码会交给v8引擎进行处理")]),s._v(" "),n("li",[s._v("2.代码中可能会调用nodeApi,node会交给libuv库处理")]),s._v(" "),n("li",[s._v("3.libuv通过阻塞i/o和多线程实现了异步io")]),s._v(" "),n("li",[s._v("4.通过事件驱动的方式,将结果放到事件队列中,最终交给我们的应用。")])]),s._v(" "),n("div",{staticClass:"language-js line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[s._v("    本阶段执行已经被 "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("setTimeout")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" 和 "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("setInterval")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" 的调度回调函数。\n   ┌───────────────────────────┐\n┌─"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("│           timers          │ \n│  └─────────────┬─────────────┘\n"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("   执行延迟到下一个循环迭代的 "),n("span",{pre:!0,attrs:{class:"token constant"}},[s._v("I")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),n("span",{pre:!0,attrs:{class:"token constant"}},[s._v("O")]),s._v(" 回调。\n│  ┌─────────────┴─────────────┐\n│  │     pending callbacks     │\n│  └─────────────┬─────────────┘\n"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("   仅系统内部使用。\n│  ┌─────────────┴─────────────┐\n│  │       idle"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" prepare       │\n│  └─────────────┬─────────────┘      \n"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("  检索新的"),n("span",{pre:!0,attrs:{class:"token constant"}},[s._v("I")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),n("span",{pre:!0,attrs:{class:"token constant"}},[s._v("O")]),s._v("事件"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("执行与 "),n("span",{pre:!0,attrs:{class:"token constant"}},[s._v("I")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),n("span",{pre:!0,attrs:{class:"token constant"}},[s._v("O")]),s._v("相关的回调  ┌───────────────┐\n│  ┌─────────────┴─────────────┐      │   incoming"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v("   │\n│  │           poll            │"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("─────┤  connections"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" │\n│  └─────────────┬─────────────┘      │   data"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" etc"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("  │\n│  "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("setImmediate")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" 回调函数在这里执行。  └───────────────┘\n│  ┌─────────────┴─────────────┐      \n│  │           check           │\n│  └─────────────┬─────────────┘\n"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("  一些关闭的回调函数\n│  ┌─────────────┴─────────────┐\n└──┤      close callbacks      │\n   └───────────────────────────┘\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br"),n("span",{staticClass:"line-number"},[s._v("17")]),n("br"),n("span",{staticClass:"line-number"},[s._v("18")]),n("br"),n("span",{staticClass:"line-number"},[s._v("19")]),n("br"),n("span",{staticClass:"line-number"},[s._v("20")]),n("br"),n("span",{staticClass:"line-number"},[s._v("21")]),n("br"),n("span",{staticClass:"line-number"},[s._v("22")]),n("br"),n("span",{staticClass:"line-number"},[s._v("23")]),n("br"),n("span",{staticClass:"line-number"},[s._v("24")]),n("br")])]),n("blockquote",[n("p",[s._v("这里每一个阶段都对应一个事件队列,当event loop执行到某个阶段时会将当前阶段对应的队列依次执行。当该队列已用尽或达到回调限制，事件循环将移动到下一阶段")])]),s._v(" "),n("blockquote",[n("p",[s._v("process.nextTick() 从技术上讲不是事件循环的一部分.")])]),s._v(" "),n("h2",{attrs:{id:"六-node中全局对象"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#六-node中全局对象"}},[s._v("#")]),s._v(" 六.Node中全局对象")]),s._v(" "),n("ul",[n("li",[s._v("Buffer")]),s._v(" "),n("li",[s._v("process")]),s._v(" "),n("li",[s._v("setInterval,setTimeout,setImmediate")]),s._v(" "),n("li",[s._v("console")]),s._v(" "),n("li",[s._v("queueMicrotask")])]),s._v(" "),n("h2",{attrs:{id:"七-node中的模块"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#七-node中的模块"}},[s._v("#")]),s._v(" 七.node中的模块")]),s._v(" "),n("ul",[n("li",[s._v("__dirname")]),s._v(" "),n("li",[s._v("__filename")]),s._v(" "),n("li",[s._v("exports")]),s._v(" "),n("li",[s._v("module")]),s._v(" "),n("li",[s._v("require()")])])])}),[],!1,null,null,null);t.default=e.exports}}]);